macro(ARKOI_LLVM_FIND_AND_ADD_LIB _libname_)
    string(TOUPPER ${_libname_} _prettyLibname_)
    find_library(ARKOI_LLVM_${_prettyLibname_}_LIB
            NAME
            ${_libname_}
            PATHS
            /usr/lib/llvm/10/lib
            /usr/lib/llvm-10/lib
            /usr/lib/llvm-10.0/lib)
    if (ARKOI_LLVM_${_prettyLibname_}_LIB)
        set(ARKOI_LLVM_LIBRARIES ${ARKOI_LLVM_LIBRARIES} ${ARKOI_LLVM_${_prettyLibname_}_LIB})
    endif ()
endmacro()

find_path(ARKOI_LLVM_INCLUDE_DIRS
        NAME
        llvm/IR/IRBuilder.h
        PATHS
        /usr/lib/llvm/10/include
        /usr/lib/llvm-10/include
        /usr/lib/llvm-10.0/include)

find_library(ARKOI_LLVM_LIBRARY
        NAMES
        LLVM-10.0
        LLVM-10
        PATHS
        /usr/lib/llvm/10/lib
        /usr/lib/llvm/10/lib64
        /usr/lib/llvm-10/lib)

if (ARKOI_LLVM_LIBRARY)
    set(ARKOI_LLVM_LIBRARIES ${ARKOI_LLVM_LIBRARY})
else ()
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMXRay)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMWindowsManifest)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSymbolize)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMDebugInfoPDB)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMOrcJIT)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMOrcError)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMJITLink)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMObjectYAML)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMCA)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMLTO)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMPasses)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMObjCARCOpts)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMLineEditor)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMLibDriver)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMInterpreter)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMFuzzMutate)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMFrontendOpenMP)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMCJIT)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMExecutionEngine)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMRuntimeDyld)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMDWARFLinker)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMDlltoolDriver)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMOption)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMDebugInfoGSYM)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMCoverage)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMCoroutines)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAVRDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAVRCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAVRAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAVRDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAVRInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMXCoreDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMXCoreCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMXCoreDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMXCoreInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMX86Disassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMX86AsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMX86CodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMX86Desc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMX86Utils)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMX86Info)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMWebAssemblyDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMWebAssemblyCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMWebAssemblyDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMWebAssemblyAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMWebAssemblyInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSystemZDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSystemZCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSystemZAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSystemZDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSystemZInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSparcDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSparcCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSparcAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSparcDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSparcInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMRISCVDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMRISCVCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMRISCVAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMRISCVDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMRISCVUtils)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMRISCVInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMPowerPCDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMPowerPCCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMPowerPCAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMPowerPCDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMPowerPCInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMNVPTXCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMNVPTXDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMNVPTXInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMSP430Disassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMSP430CodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMSP430AsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMSP430Desc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMSP430Info)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMipsDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMipsCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMipsAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMipsDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMipsInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMLanaiDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMLanaiCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMLanaiAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMLanaiDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMLanaiInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMHexagonDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMHexagonCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMHexagonAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMHexagonDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMHexagonInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMBPFDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMBPFCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMBPFAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMBPFDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMBPFInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMARMDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMARMCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMARMAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMARMDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMARMUtils)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMARMInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAMDGPUDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAMDGPUCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMIRParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMipo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMInstrumentation)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMVectorize)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMLinker)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMIRReader)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAMDGPUAsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAMDGPUDesc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAMDGPUUtils)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAMDGPUInfo)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAArch64Disassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMCDisassembler)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAArch64CodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMCFGuard)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMGlobalISel)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSelectionDAG)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAsmPrinter)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMDebugInfoDWARF)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMCodeGen)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMTarget)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMScalarOpts)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMInstCombine)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAggressiveInstCombine)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMTransformUtils)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMBitWriter)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAnalysis)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMProfileData)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMObject)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMTextAPI)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMBitReader)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMCore)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMRemarks)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMBitstreamReader)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAArch64AsmParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMCParser)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAArch64Desc)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMMC)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMDebugInfoCodeView)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMDebugInfoMSF)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMBinaryFormat)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAArch64Utils)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMAArch64Info)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMSupport)
    ARKOI_LLVM_FIND_AND_ADD_LIB(LLVMDemangle)
endif ()

include(FindPackageHandleStandardArgs)
find_package_handle_standard_args(ArkoiLLVM DEFAULT_MSG ARKOI_LLVM_LIBRARIES ARKOI_LLVM_INCLUDE_DIRS)

mark_as_advanced(ARKOI_LLVM_LIBRARIES ARKOI_LLVM_INCLUDE_DIRS)