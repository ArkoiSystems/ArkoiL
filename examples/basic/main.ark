import "console"

struct Info {
    var test = 0
    var pointerTest: i32* = &test
}

fun main(): i32 {
    var test = Info { test: 10 }
    test(&test)
    printf("3) %i, %i\n", test.test, test.@pointerTest)
    return 0
}

fun test(ok: Info*): void {
    printf("1) %i -> %i: %i\n", @ok.test, @ok.pointerTest, @ok.@pointerTest)
    @ok.test = 100
    @ok.pointerTest = @ok.&test
    printf("2) %i -> %i: %i\n", @ok.test, @ok.pointerTest, @ok.@pointerTest)
}
